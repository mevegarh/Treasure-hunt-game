<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Treasure Hunt - Live Character</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>üè¥‚Äç‚ò†Ô∏è Treasure Hunt - Live Character</h1>
    <div id="gameArea">
        <canvas id="gameCanvas" width="600" height="400"></canvas>
    </div>
    <div id="scoreBoard">Score: <span id="score">0</span></div>

    <script src="script.js"></script>
</body>
</html>
body {
    text-align: center;
    font-family: 'Comic Sans MS', cursive;
    background: linear-gradient(#87CEEB, #f0e68c);
}

#gameArea {
    position: relative;
    width: 600px;
    height: 400px;
    margin: 20px auto;
    background-color: #98fb98;
    border: 3px solid #228B22;
    overflow: hidden;
    border-radius: 15px;
}

#scoreBoard {
    font-size: 24px;
    margin-top: 10px;
}
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');

const playerImg = new Image();
playerImg.src = 'https://i.imgur.com/LrT8pqb.png'; // Example sprite sheet

const treasureImg = new Image();
treasureImg.src = 'https://i.imgur.com/6b8eFf8.png'; // Treasure image

let player = {
    x: 50,
    y: 50,
    width: 48,
    height: 48,
    frameX: 0,
    frameY: 0,
    speed: 3,
    moving: false
};

let treasure = {
    x: 300,
    y: 200,
    width: 30,
    height: 30
};

let keys = [];
let score = 0;

window.addEventListener('keydown', function(e){
    keys[e.key] = true;
    player.moving = true;
});

window.addEventListener('keyup', function(e){
    delete keys[e.key];
    player.moving = false;
});

function drawSprite(img, sX, sY, sW, sH, dX, dY, dW, dH){
    ctx.drawImage(img, sX, sY, sW, sH, dX, dY, dW, dH);
}

function movePlayer(){
    if(keys['ArrowUp'] && player.y > 0){
        player.y -= player.speed;
        player.frameY = 3;
    }
    if(keys['ArrowLeft'] && player.x > 0){
        player.x -= player.speed;
        player.frameY = 1;
    }
    if(keys['ArrowDown'] && player.y < canvas.height - player.height){
        player.y += player.speed;
        player.frameY = 0;
    }
    if(keys['ArrowRight'] && player.x < canvas.width - player.width){
        player.x += player.speed;
        player.frameY = 2;
    }
}

function handlePlayerFrame(){
    if (player.moving){
        player.frameX = (player.frameX + 1) % 4; // 4 frames for walking
    } else {
        player.frameX = 0; // Standing still
    }
}

function drawTreasure(){
    ctx.drawImage(treasureImg, treasure.x, treasure.y, treasure.width, treasure.height);
}

function checkCollision(){
    if (player.x < treasure.x + treasure.width &&
        player.x + player.width > treasure.x &&
        player.y < treasure.y + treasure.height &&
        player.y + player.height > treasure.y) {
        
        score++;
        document.getElementById('score').textContent = score;
        treasure.x = Math.random() * (canvas.width - treasure.width);
        treasure.y = Math.random() * (canvas.height - treasure.height);
    }
}

function gameLoop(){
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    drawTreasure();
    movePlayer();
    drawSprite(playerImg, player.width * player.frameX, player.height * player.frameY, player.width, player.height, player.x, player.y, player.width, player.height);
    handlePlayerFrame();
    checkCollision();
    requestAnimationFrame(gameLoop);
}

playerImg.onload = function(){
    gameLoop();
};

    